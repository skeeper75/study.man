# 후니프린팅 인쇄자동견적 시스템 — 30일 개발 일정

> **버전**: v1.0 | **작성일**: 2026-03-01 | **작성자**: 지니
> **기간**: 2026-03-01 ~ 2026-03-31 (30일)
> **분류**: 프로젝트 관리 문서

---

## 1. 개발 원칙

- **핵심 우선**: MES 연동 없이는 서비스 불가 → MES 연동을 최우선으로
- **MVP 접근**: 디지털인쇄 1개 카테고리 완성 후 나머지 확장
- **병렬 개발**: Admin Console과 Widget Builder를 동시 진행
- **외부 의존성 선제 처리**: Edicus API Key, Shopby Webhook 설정을 Day 1에 착수

---

## 2. 전체 일정 개요

```
Week 1 (Day 01-07): 기반 구축 + 상품 마스터 + 자동견적 엔진
Week 2 (Day 08-14): Admin Console + 위젯빌더 + MES 연동
Week 3 (Day 15-21): Shopby 주문 흐름 + PDF 파일 주문 + Edicus 연동
Week 4 (Day 22-30): 통합 테스트 + 192개 상품 데이터 완성 + 배포
```

---

## 3. 주차별 상세 일정

### Week 1: 기반 구축 (Day 01 ~ 07)

```
2026-03-01 (Day 01) ~ 2026-03-07 (Day 07)
```

| Day | 작업 항목 | 담당 | 산출물 |
|-----|-----------|------|--------|
| D01 | 프로젝트 초기 설정 (Next.js, Neon DB, Railway, Vercel) | 지니 | 프로젝트 골격 |
| D01 | Shopby API Key 및 Webhook URL 설정 요청 | 지니 | - |
| D01 | Edicus API Key 발급 요청 (MotionOne) | 지니 | - |
| D01 | MES API 접근 권한 확인 (CRT 측) | 지니 | - |
| D02 | DB 스키마 마이그레이션 (Neon PostgreSQL) | 지니 | 전체 테이블 생성 |
| D02 | 기존 SQLite(huni_master_v2.db) → PostgreSQL 마이그레이션 스크립트 작성 | 지니 | 마이그레이션 스크립트 |
| D03 | 상품 마스터 데이터 마이그레이션 (192개) | 지니 | `tb_product_master` 완성 |
| D03 | 옵션 그룹/항목 마이그레이션 | 지니 | `tb_product_option_*` 완성 |
| D04 | 출력비/용지비/후가공비 데이터 마이그레이션 | 지니 | 가격 테이블 완성 |
| D04 | MES 매핑 데이터 마이그레이션 (17,095건) | 지니 | `tb_mes_mapping` 완성 |
| D05 | **자동견적 엔진 핵심 로직 구현** | 지니 | `lib/quote-engine/` |
| D05 | - 디지털인쇄 가격 계산 (출력비 + 용지비 + 후가공비) | 지니 | 단위 테스트 포함 |
| D06 | json-rules-engine 연동 (옵션 제약조건) | 지니 | 제약조건 엔진 |
| D06 | 제약조건 데이터 마이그레이션 (156건) | 지니 | `tb_option_constraint` 완성 |
| D07 | 자동견적 REST API 엔드포인트 구현 | 지니 | `POST /api/quote/calculate` |
| D07 | **Week 1 통합 테스트** (디지털인쇄 1개 상품 E2E 견적) | 지니 | 테스트 결과 |

**Week 1 마일스톤**: 디지털인쇄 1개 상품에 대해 자동견적 API 정상 동작

---

### Week 2: 관리자 콘솔 + 위젯빌더 + MES 연동 (Day 08 ~ 14)

```
2026-03-08 (Day 08) ~ 2026-03-14 (Day 14)
```

| Day | 작업 항목 | 담당 | 산출물 |
|-----|-----------|------|--------|
| D08 | Admin Console: 상품 목록/상세 조회 페이지 (Next.js) | 지니 | 상품 관리 UI |
| D08 | Admin Console: 가격 규칙 편집 UI | 지니 | 가격 편집 화면 |
| D09 | Admin Console: 옵션 제약조건 편집 UI (react-querybuilder) | 지니 | 규칙 편집기 |
| D09 | Admin Console: MES 매핑 관리 페이지 | 지니 | 매핑 관리 UI |
| D10 | **위젯빌더 개발 시작** (JavaScript/React 위젯) | 지니 | 위젯 프로젝트 초기화 |
| D10 | 위젯: 옵션 선택 UI (사이즈/인쇄면/용지 드롭다운) | 지니 | 옵션 선택 컴포넌트 |
| D11 | 위젯: 실시간 자동견적 호출 및 가격 표시 | 지니 | 견적 결과 컴포넌트 |
| D11 | 위젯: Shopby 장바구니 연동 | 지니 | 장바구니 버튼 |
| D12 | **MES 연동 구현** | 지니 | `lib/mes-integration/` |
| D12 | - MES API 클라이언트 작성 (JWT 인증) | 지니 | API 클라이언트 |
| D12 | - Shopby Webhook 수신 처리 (`/api/webhooks/shopby`) | 지니 | Webhook 핸들러 |
| D13 | - MES 코드 자동 매핑 로직 | 지니 | 매핑 함수 |
| D13 | - MES 작업 등록 API 호출 + 실패 재시도 로직 | 지니 | 큐 처리 로직 |
| D14 | **Week 2 통합 테스트** | 지니 | |
| D14 | - Shopby 주문 → Webhook → MES 전송 E2E | 지니 | 테스트 결과 |
| D14 | Admin Console Vercel 배포 | 지니 | 스테이징 URL |

**Week 2 마일스톤**: Shopby 주문 발생 시 MES에 자동 전송 동작 확인

---

### Week 3: 전체 주문 흐름 + PDF/Edicus 주문 (Day 15 ~ 21)

```
2026-03-15 (Day 15) ~ 2026-03-21 (Day 21)
```

| Day | 작업 항목 | 담당 | 산출물 |
|-----|-----------|------|--------|
| D15 | 위젯: PDF 파일 업로드 UI 완성 | 지니 | 파일 업로드 컴포넌트 |
| D15 | 파일 저장소 연동 (Cloudflare R2 또는 AWS S3) | 지니 | 파일 업로드 API |
| D16 | Admin Console: 파일 검수 화면 (승인/반려) | 지니 | 파일 검수 UI |
| D16 | 파일 검수 완료 → MES 전송 트리거 로직 | 지니 | 검수 완료 핸들러 |
| D17 | **Edicus 에디터 연동** (API Key 수신 가정) | 지니 | |
| D17 | - Edicus JS SDK v2 위젯 내 임베드 | 지니 | Edicus iframe |
| D18 | - Edicus 세션 생성 API (`/api/edicus/session`) | 지니 | 세션 관리 |
| D18 | - Edicus 주문 완료 콜백 처리 | 지니 | 완료 핸들러 |
| D19 | **나머지 카테고리 자동견적 엔진 확장** | 지니 | |
| D19 | - 스티커 (반칼/완칼/합판도무송) | 지니 | 스티커 계산 로직 |
| D19 | - 실사/배너 (면적 기반 가격) | 지니 | 실사 계산 로직 |
| D20 | - 아크릴 (크기 매트릭스 + 가공비) | 지니 | 아크릴 계산 로직 |
| D20 | - 책자 (제본 방식별) | 지니 | 책자 계산 로직 |
| D21 | **Week 3 통합 테스트** | 지니 | |
| D21 | - PDF 주문 전체 흐름 테스트 | 지니 | 테스트 결과 |
| D21 | - Edicus 주문 전체 흐름 테스트 | 지니 | 테스트 결과 |

**Week 3 마일스톤**: PDF 주문, Edicus 주문 각각 E2E 완료

---

### Week 4: 마무리 + 192개 상품 완성 + 배포 (Day 22 ~ 30)

```
2026-03-22 (Day 22) ~ 2026-03-31 (Day 31)
```

| Day | 작업 항목 | 담당 | 산출물 |
|-----|-----------|------|--------|
| D22 | 굿즈 카테고리 견적 로직 (고정단가 + 수량 할인, 87개 상품) | 지니 | 굿즈 계산 로직 |
| D23 | 캘린더/디자인캘린더 견적 로직 (10개 상품) | 지니 | 캘린더 계산 로직 |
| D23 | 문구 (만년다이어리 1개) | 지니 | 문구 계산 로직 |
| D24 | 위젯 Shopby 스킨 탑재 테스트 | 지니 | 스킨 통합 확인 |
| D24 | 위젯 빌드/번들 최적화 (gzip < 100KB 목표) | 지니 | 최적화된 위젯 |
| D25 | **전체 192개 상품 견적 정확도 검증** | 지니 | 견적 검증 리포트 |
| D25 | 기존 수동 견적과 자동견적 비교 (±1% 오차 이내) | 지니 | 오차 분석표 |
| D26 | 성능 테스트 (견적 API < 200ms 목표) | 지니 | 성능 측정 결과 |
| D26 | 보안 검토 (OWASP 기준, JWT, 파일 업로드 검증) | 지니 | 보안 체크리스트 |
| D27 | 버그 수정 및 엣지 케이스 처리 | 지니 | 버그 수정 로그 |
| D28 | **프로덕션 배포** | 지니 | |
| D28 | - Vercel 프로덕션 배포 (Admin Console) | 지니 | 프로덕션 URL |
| D28 | - Railway 프로덕션 배포 (API 서버) | 지니 | API 프로덕션 URL |
| D29 | Shopby 실제 스킨 위젯 탑재 | 지니 | 실서비스 위젯 |
| D29 | MES 프로덕션 연동 최종 확인 | 지니 | 연동 확인서 |
| D30 | **최종 UAT (사용자 인수 테스트)** | 지니 + 후니프린팅 담당자 | |
| D30 | - 실제 상품으로 주문 테스트 (5개 카테고리) | | 테스트 결과 |
| D30 | - 관리자 콘솔 인수인계 및 사용 교육 | | 교육 완료 |
| D31 | **프로젝트 완료 및 인수** | | 프로젝트 완료 보고서 |

**Week 4 마일스톤**: 192개 전체 상품 자동견적 + 프로덕션 배포 완료

---

## 4. 마일스톤 요약

| 마일스톤 | 목표일 | 체크포인트 |
|----------|--------|------------|
| M1: 데이터 마이그레이션 완료 | Day 06 | DB에 192개 상품 데이터 완전 적재 |
| M2: 자동견적 API 동작 | Day 07 | 디지털인쇄 1개 상품 견적 API 정상 |
| M3: MES 연동 완료 | Day 14 | Shopby 주문 → MES 자동 전송 |
| M4: PDF 주문 완성 | Day 21 | PDF 업로드 → 검수 → MES 전송 |
| M5: Edicus 주문 완성 | Day 21 | Edicus 에디터 → 주문 → MES 전송 |
| M6: 전체 상품 완성 | Day 25 | 192개 전체 자동견적 정확도 확인 |
| M7: 프로덕션 배포 | Day 28 | 실 서비스 환경 배포 |
| M8: 최종 인수 | Day 31 | UAT 완료 및 프로젝트 종료 |

---

## 5. 리스크 및 대응 방안

| 리스크 | 확률 | 영향도 | 대응 방안 |
|--------|------|--------|-----------|
| Edicus API Key 발급 지연 | 중 | 중 | Day 17 이전 미수령 시, 자체 Mock SDK로 UI 먼저 개발 후 실제 연동 |
| MES API 스펙 변경 | 저 | 고 | 스테이징 환경에서 먼저 검증, 계약서 API 스펙 고정 요청 |
| Shopby Webhook 연동 지연 | 저 | 고 | Shopby 담당자와 Day 01에 바로 협의, 시뮬레이터 활용 |
| 데이터 품질 이슈 | 고 | 중 | P0/P1 데이터 이슈 선제 해결 (Day 02-03) |
| 가격 계산 로직 복잡도 | 중 | 중 | 카테고리별 단위 테스트 필수, 기존 수동 견적과 비교 검증 |
| 굿즈 87개 상품 개별 설정 | 고 | 중 | 반복 패턴 자동화 스크립트 작성, 일괄 처리 |
| 30일 일정 부족 | 중 | 고 | MVP 범위 명확화 (Edicus는 Week 4로 조정 가능) |

---

## 6. 외부 의존성 타임라인

```
Day 01: Shopby Webhook URL 등록 요청 → Day 03 수령 목표
Day 01: Edicus API Key 발급 요청    → Day 10 수령 목표 (최악 Day 17)
Day 01: MES API 스테이징 접근 확인  → Day 02 수령 목표
Day 01: 비즈하우스 합판 인쇄 연동 여부 확인 → 범위에서 제외 가능
```

---

## 7. 기술 스택 및 개발 환경

```
Frontend (Admin Console):
  - Next.js 14 App Router + TypeScript
  - Shadcn/ui + TailwindCSS
  - react-querybuilder (제약조건 편집기)
  - 배포: Vercel

Backend (API Server):
  - Next.js API Routes (동일 프로젝트)
  - json-rules-engine (견적 엔진)
  - Prisma ORM → Neon PostgreSQL

Widget Builder:
  - React + TypeScript (독립 빌드)
  - Vite 번들링
  - Shopby 스킨 삽입용 UMD 번들

Infrastructure:
  - DB: Neon Serverless PostgreSQL
  - File Storage: Cloudflare R2 (또는 AWS S3)
  - API 서버: Railway
  - Frontend: Vercel

External APIs:
  - MES: https://api.huniprinting.com (JWT)
  - Edicus: https://api-dot-edicusbase.appspot.com
  - Shopby Enterprise API + Webhook
```

---

## 8. Definition of Done (완료 기준)

### 기능적 완료 기준

- [ ] 192개 상품 전체 자동견적 정상 동작 (오차 ±1% 이내)
- [ ] Shopby 쇼핑몰에서 위젯을 통해 주문 완료 가능
- [ ] PDF 파일 업로드 주문 처리 (업로드 → 검수 → MES 전송)
- [ ] Edicus 에디터 연동 주문 처리 (최소 명함, 엽서 2개 상품군)
- [ ] 주문 완료 시 MES에 생산 정보 자동 전달 (5분 이내)
- [ ] 관리자 콘솔에서 가격/옵션/제약조건 CRUD 가능

### 품질 완료 기준

- [ ] 자동견적 API 응답시간 < 200ms (P95)
- [ ] 위젯 번들 크기 < 100KB (gzip)
- [ ] 단위 테스트 커버리지 > 80%
- [ ] 보안 취약점 0건 (OWASP Top 10 기준)
- [ ] MES 전송 실패 시 자동 재시도 (최대 3회)

---

*본 일정은 프로젝트 리더 미팅 후 조정될 수 있습니다.*
